<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<style>
    table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 98%;
        box-shadow: 0px 0px 6px grey;
    }

    td,
    th {
        border: 1px solid #942626;
        text-align: left;
        padding: 8px;
    }
</style>

<h1>Calculateur de prix pour un voyage au japon</h1>

<form>
    <div class="divNbJours">
        <label for="nbJours">Quel est la duré du voyage : </label>
        <input id="nbJours" type="number" min="1" max="365" value="7" style="width:60px"></input> nuits.
    </div>
    <br />
    <div class="divTypeNuit">
        <input type="radio" name="typeNuit" value="1"> Camping / Temple / Si c'est gratuit, j'y dors!<br />
        <input type="radio" name="typeNuit" value="2" checked> Airbnb / Auberge de jeunesse<br />
        <input type="radio" name="typeNuit" value="3"> Chambre privé dans un hotel pas trop cher<br />
        <input type="radio" name="typeNuit" value="4"> Hotel plus haut de gamme<br />

        <br />
        <label for="nbPersonne">Combien de personne vont partager la chambre : </label>
        <input id="nbPersonne" type="number" min="1" max="5" value="2" style="width:60px"></input> personnes.
    </div>

    <br />
    <table style="margin:10px">
        <tr>
            <th>Éléments</th>
            <th>Prix</th>
            <th style="border-radius: 0px 10px 0px 0px;">Variation</th>
        </tr>
        <tr>
            <td>
                <label for="prixNuit">Dollars la nuit en moyenne</label>
            </td>
            <td>
                <input id="prixNuit" type="number" min="0" max="1000" value="30" style="width:80px"></input>$
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                <label for="prixNourriture">Nourriture par jour</label>
            </td>
            <td>
                <input id="prixNourriture" type="number" min="0" max="1000" value="12" style="width:80px"></input>$
            </td>
            <td>
                5-100$
            </td>
        </tr>
        <tr>
            <td>
                <label for="prixTransport">Transport par jour</label>
            </td>
            <td>
                <input id="prixTransport" type="number" min="0" max="1000" value="15" style="width:80px"></input>$
            </td>
            <td>
                5-20$
            </td>
        </tr>
        <tr>
            <td>
                <label for="prixVisite">Visite par jour</label>
            </td>
            <td>
                <input id="prixVisite" type="number" min="0" max="1000" value="15" style="width:80px"></input>$
            </td>
            <td>
                0-40$
            </td>
        </tr>
        <tr>
            <td>&#160;</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <label for="sousTotal">Prix par personne sans l'avion</label>
            </td>
            <td>
                <input id="sousTotal" type="number" value="469" readonly style="width:80px;background-color: #ebebeb;"></input>$
            </td>
            <td></td>
        </tr>
        <tr>
            <td>&#160;</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <label for="prixAvion">Prix de l'avion</label>
            </td>
            <td>
                <input id="prixAvion" type="number" min="0" max="10000" value="1500" style="width:80px"></input>$
            </td>
            <td>
                1000-2000$
            </td>
        </tr>
        <tr>
            <td>&#160;</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <label for="total">Prix total par personne (approximation)</label>
            </td>
            <td>
                <input id="total" type="number" value="1969" readonly style="width:80px;background-color: #ebebeb;"></input>$
            </td>
            <td></td>
        </tr>
    </table>
</form>
<h3>Version 1.5</h3>
<p>Fait par Nicolas Meunier - 2019</p>
<p>Prix en $CAD</p>

<script>
    $('input[type=radio][name=typeNuit]').change(calculNuit);

    $("#nbPersonne").keyup(calculNuit);
    $("#nbPersonne").change(calculNuit);

    $("#nbJours").keyup(calculSousTotal);
    $("#nbJours").keyup(calculTotal);
    $("#nbJours").change(calculSousTotal);
    $("#nbJours").change(calculTotal);
    $("#prixNuit").keyup(calculSousTotal);
    $("#prixNuit").keyup(calculTotal);
    $("#prixNuit").change(calculSousTotal);
    $("#prixNuit").change(calculTotal);
    $("#prixNourriture").keyup(calculSousTotal);
    $("#prixNourriture").keyup(calculTotal);
    $("#prixNourriture").change(calculSousTotal);
    $("#prixNourriture").change(calculTotal);
    $("#prixTransport").keyup(calculSousTotal);
    $("#prixTransport").keyup(calculTotal);
    $("#prixTransport").change(calculSousTotal);
    $("#prixTransport").change(calculTotal);
    $("#prixVisite").keyup(calculSousTotal);
    $("#prixVisite").keyup(calculTotal);
    $("#prixVisite").change(calculSousTotal);
    $("#prixVisite").change(calculTotal);
    $("#prixAvion").keyup(calculSousTotal);
    $("#prixAvion").keyup(calculTotal);
    $("#prixAvion").change(calculSousTotal);
    $("#prixAvion").change(calculTotal);

    function calculSousTotal() {
        $nbJour = $("#nbJours").val();
        $prixNuit = $("#prixNuit").val();
        $prixNourriture = $("#prixNourriture").val();
        $prixTransport = $("#prixTransport").val();
        $prixVisite = $("#prixVisite").val();
        $sousTotal = ($nbJour * $prixNuit) + ($nbJour * $prixNourriture) + ($nbJour * $prixTransport) + ($nbJour * $prixVisite)
        $("#sousTotal").val($sousTotal);
    }

    function calculTotal() {
        $sousTotal = $("#sousTotal").val();
        $prixAvion = $("#prixAvion").val();
        $total = parseInt($sousTotal) + parseInt($prixAvion);
        $("#total").val($total);
    }

    function calculNuit() {
        $choix = $('input[type=radio][name=typeNuit]:checked').val();
        switch ($choix) {
            case '1':
                $("#prixNuit").val("5");
                break;
            case '2':
                switch ($("#nbPersonne").val()) {
                    case '1':
                        $("#prixNuit").val("35");
                        break;
                    case '2':
                        $("#prixNuit").val("30");
                        break;
                    case '3':
                    case '4':
                    case '5':
                        $("#prixNuit").val("25");
                        break;
                    default:
                        $("#prixNuit").val("25");
                }
                break;
            case '3':
                switch ($("#nbPersonne").val()) {
                    case '1':
                        $("#prixNuit").val("60");
                        break;
                    case '2':
                        $("#prixNuit").val("50");
                        break;
                    case '3':
                    case '4':
                    case '5':
                        $("#prixNuit").val("40");
                        break;
                    default:
                        $("#prixNuit").val("40");
                }
                break;
            case '4':
                switch ($("#nbPersonne").val()) {
                    case '1':
                        $("#prixNuit").val("200");
                        break;
                    case '2':
                        $("#prixNuit").val("170");
                        break;
                    case '3':
                    case '4':
                    case '5':
                        $("#prixNuit").val("150");
                        break;
                    default:
                        $("#prixNuit").val("150");
                }
                break;
        }
    }
</script>
